<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Corona Docs: API > Types > DisplayObject > contentToLocal</title>
  <meta name="revised" content="16-May-2013" />
  <meta name="description" content="Whether you're new to Corona or want to take your app to the next level, we've got a wealth of resources for you including extensive documentation, API reference, sample code, and videos.  API > Types > DisplayObject > contentToLocal" />
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />
<script src="//www.coronalabs.com/wp-content/themes/corona-labs/js/docs.js"></script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='http://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../index.html">SDK APIs</a></li>
<li><a href="../../../native/index.html">Enterprise APIs</a></li>
<li><a href="../../../plugin/index.html">Plugins</a></li>
<li><a href="../../../guide/index.html">Guides</a></li>
<li><a href="http://www.coronalabs.com/resources/tutorials/">Tutorials</a></li>
</ul>


		<div id="resources-link"><a href="http://www.coronalabs.com/resources/">Corona Resources</a> &#9657;</div>
	</div>
</div>

<div class="SearchBar">
  <form action="http://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" name="q" id="q" autocomplete="off" size="40" style="width:150px;float:left" />
  <input type="submit" name="sa" value="Search" style="float:right; font-size: 13px;" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#objectcontenttolocal">object:contentToLocal()</a><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#syntax">Syntax</a><ul>
<li><a href="#xcontent-required">xContent <sub><sup>(required)</sup></sub></a></li>
<li><a href="#ycontent-required">yContent <sub><sup>(required)</sup></sub></a></li>
</ul></li>
<li><a href="#return-value">Return Value</a></li>
<li><a href="#example">Example</a></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="http://docs.coronalabs.com">Ξ</a>  ▸  <a href="../../index.html">API</a>  ▸  <a href="../index.html">Types</a>  ▸  <a href="index.html">DisplayObject</a>  ▸  <a href="contentToLocal.html">contentToLocal</a>
</div>
<div class="section level1" id="objectcontenttolocal">
<h1><a href="#TOC">object:contentToLocal()</a></h1>
<blockquote>
<table>
<tbody>
<tr class="odd">
<td align="left"><strong>Type</strong></td>
<td align="left"><a href="../Function.html">Function</a></td>
</tr>
<tr class="even">
<td align="left"><strong>Object</strong></td>
<td align="left"><a href="index.html">DisplayObject</a></td>
</tr>
<tr class="odd">
<td align="left"><strong>Library</strong></td>
<td align="left"><a href="../../library/display/index.html">display.*</a></td>
</tr>
<tr class="even">
<td align="left"><strong>Return value</strong></td>
<td align="left"><a href="../Number.html">Number</a></td>
</tr>
<tr class="odd">
<td align="left"><strong>Revision</strong></td>
<td align="left"><a href="http://coronalabs.com/links/docs/current-corona-sdk">Current Public Release (2013.2076)</a></td>
</tr>
<tr class="even">
<td align="left"><strong>Keywords</strong></td>
<td align="left">events, listeners, display objects</td>
</tr>
<tr class="odd">
<td align="left"><strong>Sample code</strong></td>
<td align="left"><em>/CoronaSDK/SampleCode/</em></td>
</tr>
<tr class="even">
<td align="left"><strong>See also</strong></td>
<td align="left"></td>
</tr>
</tbody>
</table>
</blockquote>
<div class="section level2" id="overview">
<h2><a href="#TOC">Overview</a></h2>
<p>Maps given x and y values in content (or stage) coordinates to the target object's local coordinates (center point).</p>
<p>This method may be useful for determining how close touch events are to <a href="../GroupObject/index.html">grouped display objects</a>. Also, see <a href="contentBounds.html">object.contentBounds</a>.</p>
</div>
<div class="section level2" id="syntax">
<h2><a href="#TOC">Syntax</a></h2>
<pre><code>object:contentToLocal( xContent, yContent )</code></pre>
<div class="section level5" id="xcontent-required">
<h5><a href="#TOC">xContent <sub><sup>(required)</sup></sub></a></h5>
<p><em><a href="../Number.html">Number</a>.</em> The x-coordinate in content (display) space.</p>
</div>
<div class="section level5" id="ycontent-required">
<h5><a href="#TOC">yContent <sub><sup>(required)</sup></sub></a></h5>
<p><em><a href="../Number.html">Number</a>.</em> The y-coordinate in content (display) space.</p>
</div>
</div>
<div class="section level2" id="return-value">
<h2><a href="#TOC">Return Value</a></h2>
<p><em><a href="../Number.html">Number</a>.</em> The x and y coordinates of the given values in the object's local coordinate space.</p>
<p><strong>Note:</strong> The values returned are relative to the <a href="index.html">Display Object</a>'s center point. The reference point is not used for calculating the returned values -- they are fixed at the object's center. (display.setReferencePoint will not change the returned value.) The returned values will be negative if the given x,y point is above or left of the local object's center point.</p>
</div>
<div class="section level2" id="example">
<h2><a href="#TOC">Example</a></h2>
<p>The following sample draws a full screen rectangle on the screen and displays the touch event's x and y coordinates in stage (content) and local coordinates as you drag your finger (or mouse) around the screen.</p>
<pre class="sourceCode lua"><code class="sourceCode lua"><span class="co">-- Rectangle that fills screen</span>
<span class="kw">local</span> <span class="kw">rect</span> <span class="ot">=</span> <span class="kw">display</span><span class="ot">.</span>newRect<span class="ot">(</span> <span class="dv">0</span>, <span class="dv">0</span>, <span class="kw">display</span><span class="ot">.</span><span class="kw">contentWidth</span>, <span class="kw">display</span><span class="ot">.</span><span class="kw">contentHeight</span> <span class="ot">)</span>     
<span class="kw">rect</span>:setStrokeColor<span class="ot">(</span><span class="dv">255</span>,<span class="dv">255</span>,<span class="dv">255</span><span class="ot">)</span>       
<span class="kw">rect</span><span class="ot">.</span><span class="kw">strokeWidth</span> <span class="ot">=</span> <span class="dv">5</span>
<span class="kw">rect</span>:setFillColor<span class="ot">(</span><span class="dv">0</span>,<span class="dv">0</span>,<span class="dv">0</span><span class="ot">)</span>               
<span class="kw">display</span><span class="ot">.</span>setDefault<span class="ot">(</span> <span class="st">&quot;textColor&quot;</span>, <span class="dv">255</span>, <span class="dv">255</span>,<span class="dv">255</span> <span class="ot">)</span>

<span class="co">-- Text objects to display content and local coordinates</span>
<span class="kw">local</span> <span class="kw">contentText</span> <span class="ot">=</span> <span class="kw">display</span><span class="ot">.</span>newText<span class="ot">(</span><span class="st">&quot;&quot;</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="kw">display</span><span class="ot">.</span><span class="kw">nativeSystemFont</span>, <span class="dv">16</span><span class="ot">)</span>
<span class="kw">local</span> <span class="kw">localText</span> <span class="ot">=</span> <span class="kw">display</span><span class="ot">.</span>newText<span class="ot">(</span><span class="st">&quot;&quot;</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="kw">display</span><span class="ot">.</span><span class="kw">nativeSystemFont</span>, <span class="dv">16</span><span class="ot">)</span>
<span class="kw">localText</span>:setReferencePoint<span class="ot">(</span><span class="kw">display</span><span class="ot">.</span><span class="kw">TopLeftReferencePoint</span><span class="ot">)</span>
<span class="kw">contentText</span>:setReferencePoint<span class="ot">(</span><span class="kw">display</span><span class="ot">.</span><span class="kw">TopLeftReferencePoint</span><span class="ot">)</span>

<span class="kw">function</span> showCoordinates<span class="ot">(</span> <span class="kw">event</span> <span class="ot">)</span>                       
        <span class="co">-- Get x, y of touch event in content coordinates</span>
        <span class="kw">local</span> <span class="kw">contentx</span>, <span class="kw">contenty</span> <span class="ot">=</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">x</span>, <span class="kw">event</span><span class="ot">.</span><span class="kw">y</span>

        <span class="co">-- Convert to local coordinates of </span>
        <span class="kw">local</span> <span class="kw">localx</span>, <span class="kw">localy</span> <span class="ot">=</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">target</span>:contentToLocal<span class="ot">(</span><span class="kw">contentx</span>, <span class="kw">contenty</span><span class="ot">)</span>        

        <span class="co">-- Display content and local coordinate values</span>
        <span class="kw">contentText</span><span class="ot">.</span><span class="kw">text</span> <span class="ot">=</span> <span class="fu">tostring</span><span class="ot">(</span><span class="kw">contentx</span><span class="ot">)</span> <span class="ot">..</span> <span class="st">&quot;, &quot;</span> <span class="ot">..</span> <span class="fu">tostring</span><span class="ot">(</span><span class="kw">contenty</span><span class="ot">)</span>
        <span class="kw">localText</span><span class="ot">.</span><span class="kw">text</span> <span class="ot">=</span> <span class="fu">tostring</span><span class="ot">(</span><span class="kw">localx</span><span class="ot">)</span> <span class="ot">..</span> <span class="st">&quot;, &quot;</span> <span class="ot">..</span> <span class="fu">tostring</span><span class="ot">(</span><span class="kw">localy</span><span class="ot">)</span>
        <span class="kw">contentText</span><span class="ot">.</span><span class="kw">x</span>, <span class="kw">contentText</span><span class="ot">.</span><span class="kw">y</span> <span class="ot">=</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">x</span> <span class="ot">+</span> <span class="dv">20</span>, <span class="kw">event</span><span class="ot">.</span><span class="kw">y</span>
        <span class="kw">localText</span><span class="ot">.</span><span class="kw">x</span>, <span class="kw">localText</span><span class="ot">.</span><span class="kw">y</span> <span class="ot">=</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">x</span><span class="ot">+</span><span class="dv">20</span>, <span class="kw">event</span><span class="ot">.</span><span class="kw">y</span> <span class="ot">+</span><span class="dv">20</span>                   
        <span class="kw">localText</span>:setReferencePoint<span class="ot">(</span><span class="kw">display</span><span class="ot">.</span><span class="kw">TopLeftReferencePoint</span><span class="ot">)</span>
        <span class="kw">contentText</span>:setReferencePoint<span class="ot">(</span><span class="kw">display</span><span class="ot">.</span><span class="kw">TopLeftReferencePoint</span><span class="ot">)</span>
    <span class="kw">return</span> <span class="kw">true</span>
<span class="kw">end</span>

<span class="kw">rect</span>:addEventListener<span class="ot">(</span><span class="st">&quot;touch&quot;</span>, <span class="kw">showCoordinates</span><span class="ot">)</span></code></pre>
<div id="footer">
<p style="font-size: 13px">
© 2013 Corona Labs Inc. All Rights Reserved. (Last updated: 16-May-2013)
</p>

<br />
<p>
<strong>Help us help you! Give us feedback on this page:</strong>
</p>

<ul>
<li>
<a href="https://coronalabs.wufoo.com/forms/z7p9w5/def/field3=api.type.DisplayObject.contentToLocal&field4=Current+Public+Release+%282013%2E2076%29" target="_blank">Love it</a>
</li>

<li>
<a href="https://coronalabs.wufoo.com/forms/z7p9m3/def/field103=api.type.DisplayObject.contentToLocal&field104=Current+Public+Release+%282013%2E2076%29" target="_blank">Like it, but...</a>
</li>

<li>
<a href="https://coronalabs.wufoo.com/forms/z7p8x1/def/field103=api.type.DisplayObject.contentToLocal&field104=Current+Public+Release+%282013%2E2076%29" target="_blank">Hate it</a>
</li>
</ul>
</div>

































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































</div>
</div>

</body>
</html>