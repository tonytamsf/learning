<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Corona Docs: API > Libraries > display > capture</title>
  <meta name="revised" content="21-Nov-2013" />
  <meta name="description" content="Whether you're new to Corona or want to take your app to the next level, we've got a wealth of resources for you including extensive documentation, API reference, sample code, and videos.  API > Libraries > display > capture" />
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />
<script src="//www.coronalabs.com/wp-content/themes/corona-labs/js/docs.js"></script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='http://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../index.html">SDK APIs</a></li>
<li><a href="../../../native/index.html">Enterprise APIs</a></li>
<li><a href="../../../plugin/index.html">Plugins</a></li>
<li><a href="../../../guide/index.html">Guides</a></li>
<li><a href="http://www.coronalabs.com/resources/tutorials/">Tutorials</a></li>
</ul>


		<div id="resources-link"><a href="http://www.coronalabs.com/resources/">Corona Resources</a> &#9657;</div>
	</div>
</div>

<div class="SearchBar">
  <form action="http://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" name="q" id="q" autocomplete="off" size="40" style="width:150px;float:left" />
  <input type="submit" name="sa" value="Search" style="float:right; font-size: 13px;" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#display.capture">display.capture()</a><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#gotchas">Gotchas</a><ul>
<li><a href="#mac">Mac</a></li>
<li><a href="#windows">Windows</a></li>
</ul></li>
<li><a href="#syntax">Syntax</a><ul>
<li><a href="#displayobject-required">displayObject <sub><sup>(required)</sup></sub></a></li>
<li><a href="#tableofoptions-optional">tableOfOptions <sub><sup>(optional)</sup></sub></a></li>
</ul></li>
<li><a href="#formats-for-options">Formats for <code>options</code></a><ul>
<li><a href="#savetophotolibrary-optional">saveToPhotoLibrary <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#isfullresolution-optional">isFullResolution <sub><sup>(optional)</sup></sub></a></li>
</ul></li>
<li><a href="#syntax-legacy">Syntax (Legacy)</a><ul>
<li><a href="#displayobject-required-1">displayObject <sub><sup>(required)</sup></sub></a></li>
<li><a href="#savetophotolibrary-optional-1">saveToPhotoLibrary <sub><sup>(optional)</sup></sub></a></li>
</ul></li>
<li><a href="#example">Example</a></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="http://docs.coronalabs.com">Ξ</a>  ▸  <a href="../../index.html">API</a>  ▸  <a href="../index.html">Libraries</a>  ▸  <a href="index.html">display</a>  ▸  <a href="capture.html">capture</a>
</div>
<div class="section level1" id="display.capture">
<h1><a href="#TOC">display.capture()</a></h1>
<blockquote>
<table>
<tbody>
<tr class="odd">
<td align="left"><strong>Type</strong></td>
<td align="left"><a href="../../type/Function.html">Function</a></td>
</tr>
<tr class="even">
<td align="left"><strong>Library</strong></td>
<td align="left"><a href="index.html">display.*</a></td>
</tr>
<tr class="odd">
<td align="left"><strong>Return value</strong></td>
<td align="left"><a href="../../type/DisplayObject/index.html">DisplayObject</a></td>
</tr>
<tr class="even">
<td align="left"><strong>Revision</strong></td>
<td align="left"><a href="http://coronalabs.com/links/docs/current-corona-sdk">Current Public Release (2013.2076)</a></td>
</tr>
<tr class="odd">
<td align="left"><strong>Keywords</strong></td>
<td align="left">screenshot, capture screen, save screen</td>
</tr>
<tr class="even">
<td align="left"><strong>See also</strong></td>
<td align="left"><a href="save.html">display.save()</a><br/><a href="captureBounds.html">display.captureBounds()</a><br/><a href="captureScreen.html">display.captureScreen()</a></td>
</tr>
</tbody>
</table>
</blockquote>
<div class="section level2" id="overview">
<h2><a href="#TOC">Overview</a></h2>
<p>This function is the same as <a href="save.html">display.save()</a>, but it returns a display object instead of saving to a file by default. You can optionally save the capture to the device's photo library (but this is not the default action—you must explicitly tell it to do so when calling the function).</p>
<p><code>display.capture()</code> can be thought of as a hybrid between <a href="save.html">display.save()</a> and <a href="captureScreen.html">display.captureScreen()</a>.</p>
</div>
<div class="section level2" id="gotchas">
<h2><a href="#TOC">Gotchas</a></h2>
<p>If you need to capture a display object at application launch (i.e. when main.lua is executed to initialize the app) you must call display.capture within a <a href="../timer/performWithDelay.html">timer.performWithDelay</a> call. A delay of 100ms is recommended. for Example:</p>
<pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">local</span> <span class="kw">myObject1</span> <span class="ot">=</span> <span class="kw">display</span><span class="ot">.</span>newRect<span class="ot">(</span> <span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">150</span> <span class="ot">)</span>

<span class="kw">local</span> <span class="kw">function</span> captureWithDelay<span class="ot">()</span>
    <span class="kw">local</span> <span class="kw">capture</span> <span class="ot">=</span> <span class="kw">display</span><span class="ot">.</span>capture<span class="ot">(</span> <span class="kw">myObject1</span> <span class="ot">)</span>
<span class="kw">end</span>

<span class="kw">timer</span><span class="ot">.</span>performWithDelay<span class="ot">(</span> <span class="dv">100</span>, <span class="kw">captureWithDelay</span> <span class="ot">)</span></code></pre>
<p>When saving to the photo album on Android, you must set the following permission in the &quot;build.settings&quot; file.</p>
<pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">settings</span> <span class="ot">=</span>
<span class="ot">{</span>
    <span class="kw">android</span> <span class="ot">=</span>
    <span class="ot">{</span>
        <span class="kw">usesPermissions</span> <span class="ot">=</span>
        <span class="ot">{</span>
            <span class="st">&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;</span>,
        <span class="ot">}</span>,
    <span class="ot">}</span>,
<span class="ot">}</span></code></pre>
<div class="section level3" id="mac">
<h3><a href="#TOC">Mac</a></h3>
<p>Saves screen capture images as JPEG files to the current user's desktop.</p>
</div>
<div class="section level3" id="windows">
<h3><a href="#TOC">Windows</a></h3>
<p>Saves screen capture images as PNG files to the &quot;My Pictures\Corona Simulator&quot; directory.</p>
</div>
</div>
<div class="section level2" id="syntax">
<h2><a href="#TOC">Syntax</a></h2>
<div class="section level5" id="displayobject-required">
<h5><a href="#TOC">displayObject <sub><sup>(required)</sup></sub></a></h5>
<p><em><a href="../../type/DisplayObject/index.html">DisplayObject</a>.</em> The variable that references the display object to save.</p>
</div>
<div class="section level5" id="tableofoptions-optional">
<h5><a href="#TOC">tableOfOptions <sub><sup>(optional)</sup></sub></a></h5>
<p><em><a href="../../type/Table.html">Table</a>.</em> Table with keys that represent specific options. See <strong>Formats for options</strong> below.</p>
</div>
</div>
<div class="section level2" id="formats-for-options">
<h2><a href="#TOC">Formats for <code>options</code></a></h2>
<div class="section level5" id="savetophotolibrary-optional">
<h5><a href="#TOC">saveToPhotoLibrary <sub><sup>(optional)</sup></sub></a></h5>
<p><em><a href="../../type/Boolean.html">Boolean</a>.</em> If <code>true</code>, then it adds the image to your device’s photo album (PNG file). (For Android devices, you must set the permission level as shown in the <strong>Gotchas</strong> section above.)</p>
</div>
<div class="section level5" id="isfullresolution-optional">
<h5><a href="#TOC">isFullResolution <sub><sup>(optional)</sup></sub></a></h5>
<p><em><a href="../../type/Boolean.html">Boolean</a>.</em> If <code>true</code>, then the image ISN'T cropped to the size of the screen of the device.</p>
</div>
</div>
<div class="section level2" id="syntax-legacy">
<h2><a href="#TOC">Syntax (Legacy)</a></h2>
<pre><code>display.capture( displayObject [, saveToPhotoLibrary ] )</code></pre>
<div class="section level5" id="displayobject-required-1">
<h5><a href="#TOC">displayObject <sub><sup>(required)</sup></sub></a></h5>
<p><em><a href="../../type/DisplayObject/index.html">DisplayObject</a>.</em> The variable that references the display object to save.</p>
</div>
<div class="section level5" id="savetophotolibrary-optional-1">
<h5><a href="#TOC">saveToPhotoLibrary <sub><sup>(optional)</sup></sub></a></h5>
<p><em><a href="../../type/Boolean.html">Boolean</a>.</em> If <code>true</code>, then it adds the image to your device’s photo album (PNG file). (For Android devices, you must set the permission level as shown in the <strong>Gotchas</strong> section above.)</p>
</div>
</div>
<div class="section level2" id="example">
<h2><a href="#TOC">Example</a></h2>
<pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">local</span> <span class="kw">myObject1</span> <span class="ot">=</span> <span class="kw">display</span><span class="ot">.</span>newRect<span class="ot">(</span> <span class="dv">50</span>, <span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">150</span> <span class="ot">)</span> <span class="co">-- Create a rectangle object</span>
<span class="kw">local</span> <span class="kw">myObject2</span> <span class="ot">=</span> <span class="kw">display</span><span class="ot">.</span>newCircle<span class="ot">(</span> <span class="dv">100</span>, <span class="dv">300</span>, <span class="dv">50</span> <span class="ot">)</span>   <span class="co">-- Create a circle object</span>

<span class="kw">local</span> <span class="kw">g</span> <span class="ot">=</span> <span class="kw">display</span><span class="ot">.</span>newGroup<span class="ot">()</span>

<span class="kw">g</span>:insert<span class="ot">(</span><span class="kw">myObject1</span><span class="ot">)</span>
<span class="kw">g</span>:insert<span class="ot">(</span><span class="kw">myObject2</span><span class="ot">)</span>

<span class="co">-- save the entire group as a new display object</span>
<span class="kw">local</span> <span class="kw">combined</span> <span class="ot">=</span> <span class="kw">display</span><span class="ot">.</span>capture<span class="ot">(</span> <span class="kw">g</span> <span class="ot">)</span>

<span class="co">-- position the new display object</span>
<span class="kw">combined</span><span class="ot">.</span><span class="kw">x</span>, <span class="kw">combined</span><span class="ot">.</span><span class="kw">y</span> <span class="ot">=</span> <span class="dv">100</span>, <span class="dv">100</span>

<span class="co">-- remove it</span>
<span class="kw">combined</span>:removeSelf<span class="ot">()</span>
<span class="kw">combined</span> <span class="ot">=</span> <span class="kw">nil</span></code></pre>
<div id="footer">
<p style="font-size: 13px">
© 2013 Corona Labs Inc. All Rights Reserved. (Last updated: 21-Nov-2013)
</p>

<br />
<p>
<strong>Help us help you! Give us feedback on this page:</strong>
</p>

<ul>
<li>
<a href="https://coronalabs.wufoo.com/forms/z7p9w5/def/field3=api.library.display.capture&field4=Current+Public+Release+%282013%2E2076%29" target="_blank">Love it</a>
</li>

<li>
<a href="https://coronalabs.wufoo.com/forms/z7p9m3/def/field103=api.library.display.capture&field104=Current+Public+Release+%282013%2E2076%29" target="_blank">Like it, but...</a>
</li>

<li>
<a href="https://coronalabs.wufoo.com/forms/z7p8x1/def/field103=api.library.display.capture&field104=Current+Public+Release+%282013%2E2076%29" target="_blank">Hate it</a>
</li>
</ul>
</div>

































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































</div>
</div>

</body>
</html>