<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Corona Docs: API > Libraries > display > newImageRect</title>
  <meta name="revised" content="14-Nov-2013" />
  <meta name="description" content="Whether you're new to Corona or want to take your app to the next level, we've got a wealth of resources for you including extensive documentation, API reference, sample code, and videos.  API > Libraries > display > newImageRect" />
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />
<script src="//www.coronalabs.com/wp-content/themes/corona-labs/js/docs.js"></script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='http://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../index.html">SDK APIs</a></li>
<li><a href="../../../native/index.html">Enterprise APIs</a></li>
<li><a href="../../../plugin/index.html">Plugins</a></li>
<li><a href="../../../guide/index.html">Guides</a></li>
<li><a href="http://www.coronalabs.com/resources/tutorials/">Tutorials</a></li>
</ul>


		<div id="resources-link"><a href="http://www.coronalabs.com/resources/">Corona Resources</a> &#9657;</div>
	</div>
</div>

<div class="SearchBar">
  <form action="http://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" name="q" id="q" autocomplete="off" size="40" style="width:150px;float:left" />
  <input type="submit" name="sa" value="Search" style="float:right; font-size: 13px;" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#display.newimagerect">display.newImageRect()</a><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#texture-sampling">Texture sampling</a></li>
<li><a href="#gotchas">Gotchas</a><ul>
<li><a href="#image-guidelines">Image Guidelines</a></li>
</ul></li>
<li><a href="#syntax">Syntax</a><ul>
<li><a href="#parent-optional">parent <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#filename-required">filename <sub><sup>(required)</sup></sub></a></li>
<li><a href="#imagesheet-required">imageSheet <sub><sup>(required)</sup></sub></a></li>
<li><a href="#basedirectory-optional">baseDirectory <sub><sup>(optional)</sup></sub></a></li>
<li><a href="#frameindex-required">frameIndex <sub><sup>(required)</sup></sub></a></li>
<li><a href="#width-height-required">width, height <sub><sup>(required)</sup></sub></a></li>
</ul></li>
<li><a href="#properties">Properties</a></li>
<li><a href="#examples">Examples</a></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="http://docs.coronalabs.com">Ξ</a>  ▸  <a href="../../index.html">API</a>  ▸  <a href="../index.html">Libraries</a>  ▸  <a href="index.html">display</a>  ▸  <a href="newImageRect.html">newImageRect</a>
</div>

<div class="section level1" id="display.newimagerect">
<h1><a href="#TOC">display.newImageRect()</a></h1>
<blockquote>
<table>
<tbody>
<tr class="odd">
<td align="left"><strong>Type</strong></td>
<td align="left"><a href="../../type/Function.html">Function</a></td>
</tr>
<tr class="even">
<td align="left"><strong>Library</strong></td>
<td align="left"><a href="index.html">display.*</a></td>
</tr>
<tr class="odd">
<td align="left"><strong>Return value</strong></td>
<td align="left"><a href="../../type/DisplayObject/index.html">DisplayObject</a></td>
</tr>
<tr class="even">
<td align="left"><strong>Revision</strong></td>
<td align="left"><a href="http://coronalabs.com/links/docs/current-corona-sdk">Current Public Release (2013.2076)</a></td>
</tr>
<tr class="odd">
<td align="left"><strong>Keywords</strong></td>
<td align="left">images, objects, display object, graphics</td>
</tr>
<tr class="even">
<td align="left"><strong>Sample code</strong></td>
<td align="left"><em>/CoronaSDK/SampleCode/Graphics/Fishies</em></td>
</tr>
<tr class="odd">
<td align="left"><strong>See also</strong></td>
<td align="left"><a href="newImage.html">display.newImage()</a></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><a href="loadRemoteImage.html">display.loadRemoteImage()</a></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><a href="http://www.coronalabs.com/blog/2012/03/06/image-sheets-image-groups-and-sprites/">Image Sheets, Image Groups, and Sprites</a></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><a href="../../../guide/media/imageSheets/index.html">Image Sheets (Sprite Sheets)</a></td>
</tr>
</tbody>
</table>
</blockquote>
<div class="section level2" id="overview">
<h2><a href="#TOC">Overview</a></h2>
<p>Displays an image on the screen from a file (supports tinting via <a href="../../type/ShapeObject/setFillColor.html">object:setFillColor</a>).</p>
<p>The difference between this function and <a href="newImage.html">display.newImage()</a> is that <code>display.newImageRect()</code> automatically substitutes higher-resolution assets on higher-resolution devices. The actual image chosen will depend on the current content scale determined by Corona, which is the ratio between the current screen and the base content dimensions defined in config.lua. Based on this scale, Corona uses the imageSuffix table (also defined in config.lua), which lists the suffixes for the same family of images, to find the best match from the image choices available.</p>
<p><code>display.newImageRect()</code> should be used to load images when dynamic content scaling is enabled, instead of <a href="newImage.html">display.newImage()</a>.</p>
<p>This API can be used in two ways to handle Dynamic Scaling:</p>
<ol style="list-style-type: decimal">
<li>Display the correct resolution image based on the resolution of the device (using multiple image files).</li>
<li>Resize higher resolution images to fit the existing content width and height. Since this only uses one high resolution image, it uses more texture memory than method 1, but handles the case of sizing an image that will be used on multiple device resolutions.</li>
</ol>
</div>
<div class="section level2" id="texture-sampling">
<h2><a href="#TOC">Texture sampling</a></h2>
<p>By default, new image sheets will use a linear sampling filter, so that the image will look smooth when the actual rendered region is larger or smaller than the pixel dimensions of the loaded texture.</p>
<p>You can change the default texture filter by calling <a href="setDefault.html">display.setDefault()</a>. Once an image is loaded the first time, the same sampling filter will be applied for any subsequent loads of the same file. This is because textures are loaded once per file.</p>
</div>
<div class="section level2" id="gotchas">
<h2><a href="#TOC">Gotchas</a></h2>
<p>All loaded images are cached. To save texture memory the image in the cache memory is used when it detects an image with the same file name is displayed. This means that loading the same image multiple times doesn't increase the amount of texture memory used on the device.</p>
<p>A negative side-effect to the image caching is the comparison is based on the file name and not the file content. This means if an image file is displayed and then deleted from the directory, any file loaded after that with the same file name will still display the previous cached image. Use a different file name to avoid this problem.</p>
<p>On Android, images are limited (downsized) to 2048 x 2048, even though the maximum texture memory size is higher on the device. The reason is most Android devices don't have enough heap memory to load the image. It's recommended that you don't load image files larger than 2048 x 2048.</p>
<div class="section level3" id="image-guidelines">
<h3><a href="#TOC">Image Guidelines</a></h3>
<ul>
<li>Images should not contain an embedded ICC profile. Use &quot;Save for Web...&quot; when exporting images to be used on the device.</li>
<li>To avoid images from using too much texture memory, make sure the image is between 72 and 170 DPI.</li>
<li>Be aware of the gamma and color differences between your development system (Mac and Windows machines) and the device. For best results color calibrate the display used for creating the images.</li>
</ul>
<p>* * You should NOT use progressive JPGs since they will take much longer to load.</p>
</div>
</div>
<div class="section level2" id="syntax">
<h2><a href="#TOC">Syntax</a></h2>
<p>Single image file objects:</p>
<pre><code>display.newImageRect( [parentGroup,] filename, [baseDirectory,] width, height )</code></pre>
<p>ImageSheet-based objects:</p>
<pre><code>display.newImageRect( [parentGroup,] imageSheet, frameIndex, width, height )</code></pre>
<div class="section level5" id="parent-optional">
<h5><a href="#TOC">parent <sub><sup>(optional)</sup></sub></a></h5>
<p><em><a href="../../type/GroupObject/index.html">GroupObject</a>.</em> Specify an optional display group in which to insert the image. By default, uses the current stage (as returned from <a href="getCurrentStage.html">display.getCurrentStage()</a>) if no parent is specified.</p>
</div>
<div class="section level5" id="filename-required">
<h5><a href="#TOC">filename <sub><sup>(required)</sup></sub></a></h5>
<p><em><a href="../../type/String.html">String</a>.</em> The name of the image file to load, relative to <code>baseDirectory</code> (or <code>system.ResourceDirectory</code> by default).</p>
</div>
<div class="section level5" id="imagesheet-required">
<h5><a href="#TOC">imageSheet <sub><sup>(required)</sup></sub></a></h5>
<p><em><a href="../../type/ImageSheet/index.html">ImageSheet</a>.</em> Reference to an image sheet object created with <a href="../graphics/newImageSheet.html">graphics.newImageSheet()</a>. This is only required if you intend to create an object from an image sheet (not an image file).</p>
</div>
<div class="section level5" id="basedirectory-optional">
<h5><a href="#TOC">baseDirectory <sub><sup>(optional)</sup></sub></a></h5>
<p><em><a href="../../type/Constant.html">Constant</a>.</em> Path to load the image data from filename. Default is <code>system.ResourceDirectory</code> (project folder; same location as <code>main.lua</code>). See <a href="../system/pathForFile.html">system.pathForFile()</a> for valid values).</p>
</div>
<div class="section level5" id="frameindex-required">
<h5><a href="#TOC">frameIndex <sub><sup>(required)</sup></sub></a></h5>
<p><em><a href="../../type/Number.html">Number</a>.</em> Represents the frame index number within the <a href="../../type/ImageSheet/index.html">ImageSheet</a> to create the object from. This is only required if <code>imageSheet</code> is specified.</p>
</div>
<div class="section level5" id="width-height-required">
<h5><a href="#TOC">width, height <sub><sup>(required)</sup></sub></a></h5>
<p><em><a href="../../type/Number.html">Numbers</a>.</em> The content width and height of the image, which is the width and height within the reference screen of the content. When using trimmed frames that have been packed into an <a href="../../type/ImageSheet/index.html">ImageSheet</a> by programs like <a href="http://www.codeandweb.com/texturepacker/">Texture Packer</a>, specify the <em>trimmed</em> width and height, not the width and height of the original uncropped frame.</p>
</div>
</div>
<div class="section level2" id="properties">
<h2><a href="#TOC">Properties</a></h2>
<p><em>(Inherits properties from <a href="../../type/ShapeObject/index.html">ShapeObject</a>)</em></p>
<p>Also, see 'Properties -&gt; Path' under <a href="newRect.html">display.newRect()</a>.</p>
</div>
<div class="section level2" id="examples">
<h2><a href="#TOC">Examples</a></h2>
<p>The following example shows usage with an image file (the most-common scenario).</p>
<pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">local</span> <span class="kw">image</span> <span class="ot">=</span> <span class="kw">display</span><span class="ot">.</span>newImageRect<span class="ot">(</span> <span class="st">&quot;image.png&quot;</span>, <span class="dv">100</span>, <span class="dv">100</span> <span class="ot">)</span>
<span class="kw">image</span>:setReferencePoint<span class="ot">(</span> <span class="kw">display</span><span class="ot">.</span><span class="kw">CenterReferencePoint</span> <span class="ot">)</span>
<span class="kw">image</span><span class="ot">.</span><span class="kw">x</span> <span class="ot">=</span> <span class="kw">display</span><span class="ot">.</span><span class="kw">contentCenterX</span>
<span class="kw">image</span><span class="ot">.</span><span class="kw">y</span> <span class="ot">=</span> <span class="kw">display</span><span class="ot">.</span><span class="kw">contentCenterY</span>

<span class="co">-- hide the object</span>
<span class="kw">image</span><span class="ot">.</span><span class="kw">isVisible</span> <span class="ot">=</span> <span class="kw">false</span>

<span class="co">-- remove it</span>
<span class="kw">image</span>:removeSelf<span class="ot">()</span>
<span class="kw">image</span> <span class="ot">=</span> <span class="kw">nil</span></code></pre>
<p>The next example shows usage in conjunction with an <a href="../../type/ImageSheet/index.html">ImageSheet</a> object.</p>
<pre class="sourceCode lua"><code class="sourceCode lua"><span class="co">-- first, create the image sheet object</span>
<span class="kw">local</span> <span class="kw">options</span> <span class="ot">=</span>
<span class="ot">{</span>
    <span class="co">-- The params below are required</span>

    <span class="kw">width</span> <span class="ot">=</span> <span class="dv">70</span>,
    <span class="kw">height</span> <span class="ot">=</span> <span class="dv">41</span>,
    <span class="kw">numFrames</span> <span class="ot">=</span> <span class="dv">2</span>,

    <span class="co">-- The params below are optional; used for dynamic resolution support</span>

    <span class="kw">sheetContentWidth</span> <span class="ot">=</span> <span class="dv">70</span>,  <span class="co">-- width of original 1x size of entire sheet</span>
    <span class="kw">sheetContentHeight</span> <span class="ot">=</span> <span class="dv">82</span>  <span class="co">-- height of original 1x size of entire sheet</span>
<span class="ot">}</span>

<span class="kw">local</span> <span class="kw">imageSheet</span> <span class="ot">=</span> <span class="kw">graphics</span><span class="ot">.</span>newImageSheet<span class="ot">(</span> <span class="st">&quot;fishies.png&quot;</span>, <span class="kw">options</span> <span class="ot">)</span>

<span class="co">-- create new image from the above image sheet</span>
<span class="kw">local</span> <span class="kw">obj</span> <span class="ot">=</span> <span class="kw">display</span><span class="ot">.</span>newImageRect<span class="ot">(</span> <span class="kw">imageSheet</span>, <span class="dv">1</span>, <span class="dv">70</span>, <span class="dv">41</span> <span class="ot">)</span>
<span class="kw">obj</span><span class="ot">.</span><span class="kw">x</span>, <span class="kw">obj</span><span class="ot">.</span><span class="kw">y</span> <span class="ot">=</span> <span class="dv">100</span>, <span class="dv">100</span></code></pre>
<div id="footer">
<p style="font-size: 13px">
© 2013 Corona Labs Inc. All Rights Reserved. (Last updated: 14-Nov-2013)
</p>

<br />
<p>
<strong>Help us help you! Give us feedback on this page:</strong>
</p>

<ul>
<li>
<a href="https://coronalabs.wufoo.com/forms/z7p9w5/def/field3=api.library.display.newImageRect&field4=Current+Public+Release+%282013%2E2076%29" target="_blank">Love it</a>
</li>

<li>
<a href="https://coronalabs.wufoo.com/forms/z7p9m3/def/field103=api.library.display.newImageRect&field104=Current+Public+Release+%282013%2E2076%29" target="_blank">Like it, but...</a>
</li>

<li>
<a href="https://coronalabs.wufoo.com/forms/z7p8x1/def/field103=api.library.display.newImageRect&field104=Current+Public+Release+%282013%2E2076%29" target="_blank">Hate it</a>
</li>
</ul>
</div>

































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































</div>
</div>

</body>
</html>