<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Corona Docs: API > Libraries > Enterprise > newTextField</title>
  <meta name="revised" content="14-Nov-2013" />
  <meta name="description" content="Whether you're new to Corona or want to take your app to the next level, we've got a wealth of resources for you including extensive documentation, API reference, sample code, and videos.  API > Libraries > Enterprise > newTextField" />
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />
<script src="//www.coronalabs.com/wp-content/themes/corona-labs/js/docs.js"></script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='http://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../index.html">SDK APIs</a></li>
<li><a href="../../../native/index.html">Enterprise APIs</a></li>
<li><a href="../../../plugin/index.html">Plugins</a></li>
<li><a href="../../../guide/index.html">Guides</a></li>
<li><a href="http://www.coronalabs.com/resources/tutorials/">Tutorials</a></li>
</ul>


		<div id="resources-link"><a href="http://www.coronalabs.com/resources/">Corona Resources</a> &#9657;</div>
	</div>
</div>

<div class="SearchBar">
  <form action="http://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" name="q" id="q" autocomplete="off" size="40" style="width:150px;float:left" />
  <input type="submit" name="sa" value="Search" style="float:right; font-size: 13px;" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#native.newtextfield">native.newTextField()</a><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#gotchas">Gotchas</a></li>
<li><a href="#syntax">Syntax</a><ul>
<li><a href="#left-top-required">left, top <sub><sup>(required)</sup></sub></a></li>
<li><a href="#width-height-required">width, height <sub><sup>(required)</sup></sub></a></li>
<li><a href="#listener-optional">listener <sub><sup>(optional)</sup></sub></a></li>
</ul></li>
<li><a href="#examples">Examples</a></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="http://docs.coronalabs.com">Ξ</a>  ▸  <a href="../../index.html">API</a>  ▸  <a href="../index.html">Libraries</a>  ▸  <a href="index.html">Enterprise</a>  ▸  <a href="newTextField.html">newTextField</a>
</div>

<div class="section level1" id="native.newtextfield">
<h1><a href="#TOC">native.newTextField()</a></h1>
<blockquote>
<table>
<tbody>
<tr class="odd">
<td align="left"><strong>Type</strong></td>
<td align="left"><a href="../../type/Function.html">Function</a></td>
</tr>
<tr class="even">
<td align="left"><strong>Library</strong></td>
<td align="left"><a href="index.html">native.*</a></td>
</tr>
<tr class="odd">
<td align="left"><strong>Return value</strong></td>
<td align="left"><a href="../../type/TextField/index.html">TextField</a></td>
</tr>
<tr class="even">
<td align="left"><strong>Revision</strong></td>
<td align="left"><a href="http://coronalabs.com/links/docs/current-corona-sdk">Current Public Release (2013.2076)</a></td>
</tr>
<tr class="odd">
<td align="left"><strong>Keywords</strong></td>
<td align="left">text input, text fields, native text</td>
</tr>
<tr class="even">
<td align="left"><strong>See also</strong></td>
<td align="left"><a href="newTextBox.html">native.newTextBox()</a><br/><a href="setKeyboardFocus.html">native.setKeyboardFocus()</a><br/><a href="../../type/TextField/inputType.html">object.inputType</a><br/><a href="../../event/userInput/index.html">userInput events</a></td>
</tr>
</tbody>
</table>
</blockquote>
<div class="section level2" id="overview">
<h2><a href="#TOC">Overview</a></h2>
<p>Creates a single-line textfield for text input.</p>
<p>Native text fields can listen for <a href="../../event/userInput/index.html">userInput events</a>. (see example)</p>
</div>
<div class="section level2" id="gotchas">
<h2><a href="#TOC">Gotchas</a></h2>
<p>Native textfields are only available in device builds, the Xcode Simulator, and in the Corona Mac Simulator.</p>
<p>Because native textfields are not part of the OpenGL canvas, they do not obey the Corona display object hierarchy. For example, while they can be manipulated using display object methods, they always appear above normal display objects, and cannot be inserted into display groups.</p>
<p>Also, they do not inherit display group properties like <code>isVisible</code>, <code>x</code>, <code>y</code>, <code>rotation</code>, and <code>alpha</code>. If you need to set display properties on native objects, apply them to the objects directly.</p>
<p>To remove a native textfield from the display, <code>use object:removeSelf()</code>.</p>
<p>For multiline text, see <a href="newTextBox.html">native.newTextBox()</a>.</p>
<p>The <a href="setKeyboardFocus.html">native.setKeyboardFocus()</a> API is used to set and clear the keyboard used for text input.</p>
<p>See the <a href="../../type/TextField/index.html">TextField</a> object reference for a complete listing of properties and methods (such as <code>inputType</code>, <code>font</code>, <code>size</code>, and more).</p>
</div>
<div class="section level2" id="syntax">
<h2><a href="#TOC">Syntax</a></h2>
<pre><code>native.newTextField( left, top, width, height [, listener] )</code></pre>
<div class="section level5" id="left-top-required">
<h5><a href="#TOC">left, top <sub><sup>(required)</sup></sub></a></h5>
<p><em><a href="../../type/Number.html">Numbers</a>.</em> x/y coordinates that correspond to the top/left corner of the text field.</p>
</div>
<div class="section level5" id="width-height-required">
<h5><a href="#TOC">width, height <sub><sup>(required)</sup></sub></a></h5>
<p><em><a href="../../type/Number.html">Numbers</a>.</em> Width and height (size) of the text field.</p>
</div>
<div class="section level5" id="listener-optional">
<h5><a href="#TOC">listener <sub><sup>(optional)</sup></sub></a></h5>
<p><em><a href="../../type/Listener.html">Listener</a>.</em> Function to respond to keyboard events. It is recommended you do not use this argument and instead add a &quot;userInput&quot; event listener to the TextField object. See <a href="../../event/userInput/index.html">userInput</a> for more information.</p>
</div>
</div>
<div class="section level2" id="examples">
<h2><a href="#TOC">Examples</a></h2>
<pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">local</span> <span class="kw">defaultField</span>

<span class="kw">local</span> <span class="kw">function</span> textListener<span class="ot">(</span> <span class="kw">event</span> <span class="ot">)</span>
    <span class="kw">if</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">phase</span> <span class="ot">==</span> <span class="st">&quot;began&quot;</span> <span class="kw">then</span>

        <span class="co">-- user begins editing textField</span>
        <span class="fu">print</span><span class="ot">(</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">text</span> <span class="ot">)</span>

    <span class="kw">elseif</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">phase</span> <span class="ot">==</span> <span class="st">&quot;ended&quot;</span> <span class="kw">then</span>

        <span class="co">-- textField/Box loses focus</span>

    <span class="kw">elseif</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">phase</span> <span class="ot">==</span> <span class="st">&quot;ended&quot;</span> <span class="kw">or</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">phase</span> <span class="ot">==</span> <span class="st">&quot;submitted&quot;</span> <span class="kw">then</span>

        <span class="co">-- do something with defaulField&#39;s text</span>

    <span class="kw">elseif</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">phase</span> <span class="ot">==</span> <span class="st">&quot;editing&quot;</span> <span class="kw">then</span>

        <span class="fu">print</span><span class="ot">(</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">newCharacters</span> <span class="ot">)</span>
        <span class="fu">print</span><span class="ot">(</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">oldText</span> <span class="ot">)</span>
        <span class="fu">print</span><span class="ot">(</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">startPosition</span> <span class="ot">)</span>
        <span class="fu">print</span><span class="ot">(</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">text</span> <span class="ot">)</span>

    <span class="kw">end</span>
<span class="kw">end</span>

<span class="co">-- Create our Text Field</span>
<span class="kw">defaultField</span> <span class="ot">=</span> <span class="kw">native</span><span class="ot">.</span>newTextField<span class="ot">(</span> <span class="dv">10</span>, <span class="dv">30</span>, <span class="dv">180</span>, <span class="dv">30</span> <span class="ot">)</span>
<span class="kw">defaultField</span>:addEventListener<span class="ot">(</span> <span class="st">&quot;userInput&quot;</span>, <span class="kw">textListener</span> <span class="ot">)</span></code></pre>
<p>The following example shows a text field which only allows numeric input:</p>
<pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">numericField</span> <span class="ot">=</span> <span class="kw">native</span><span class="ot">.</span>newTextField<span class="ot">(</span> <span class="dv">50</span>, <span class="dv">150</span>, <span class="dv">220</span>, <span class="dv">36</span> <span class="ot">)</span>
<span class="kw">numericField</span><span class="ot">.</span><span class="kw">inputType</span> <span class="ot">=</span> <span class="st">&quot;number&quot;</span>
<span class="kw">numericField</span>:addEventListener<span class="ot">(</span> <span class="st">&quot;userInput&quot;</span>, <span class="kw">handlerFunction</span> <span class="ot">)</span></code></pre>
<p>The following example uses Lua closures to allow using one listener for multiple text fields:</p>
<pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">local</span> <span class="kw">defaultField</span>, <span class="kw">numberField</span> <span class="co">-- forward reference (needed for Lua closure)</span>

<span class="co">-- TextField Listener</span>
<span class="kw">local</span> <span class="kw">function</span> fieldHandler<span class="ot">(</span> <span class="kw">getObj</span> <span class="ot">)</span>

<span class="co">-- Use Lua closure in order to access the TextField object</span>

    <span class="kw">return</span> <span class="kw">function</span><span class="ot">(</span> <span class="kw">event</span> <span class="ot">)</span>

        <span class="fu">print</span><span class="ot">(</span> <span class="st">&quot;TextField Object is: &quot;</span> <span class="ot">..</span> <span class="fu">tostring</span><span class="ot">(</span> getObj<span class="ot">()</span> <span class="ot">)</span> <span class="ot">)</span>

        <span class="kw">if</span> <span class="ot">(</span> <span class="st">&quot;began&quot;</span> <span class="ot">==</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">phase</span> <span class="ot">)</span> <span class="kw">then</span>
            <span class="co">-- This is the &quot;keyboard has appeared&quot; event</span>

        <span class="kw">elseif</span> <span class="ot">(</span> <span class="st">&quot;ended&quot;</span> <span class="ot">==</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">phase</span> <span class="ot">)</span> <span class="kw">then</span>
            <span class="co">-- This event is called when the user stops editing a field:</span>
            <span class="co">-- for example, when they touch a different field or keyboard focus goes away</span>

            <span class="fu">print</span><span class="ot">(</span> <span class="st">&quot;Text entered = &quot;</span> <span class="ot">..</span> <span class="fu">tostring</span><span class="ot">(</span> getObj<span class="ot">().</span><span class="kw">text</span> <span class="ot">)</span> <span class="ot">)</span>         <span class="co">-- display the text entered</span>

        <span class="kw">elseif</span> <span class="ot">(</span> <span class="st">&quot;submitted&quot;</span> <span class="ot">==</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">phase</span> <span class="ot">)</span> <span class="kw">then</span>
            <span class="co">-- This event occurs when the user presses the &quot;return&quot; key</span>
            <span class="co">-- (if available) on the onscreen keyboard</span>

            <span class="co">-- Hide keyboard</span>
            <span class="kw">native</span><span class="ot">.</span>setKeyboardFocus<span class="ot">(</span> <span class="kw">nil</span> <span class="ot">)</span>
        <span class="kw">end</span>
    <span class="kw">end</span>     <span class="co">-- &quot;return function()&quot;</span>

<span class="kw">end</span>

<span class="co">-- Create our Text Field</span>
<span class="kw">defaultField</span> <span class="ot">=</span> <span class="kw">native</span><span class="ot">.</span>newTextField<span class="ot">(</span> <span class="dv">10</span>, <span class="dv">30</span>, <span class="dv">180</span>, <span class="dv">30</span> <span class="ot">)</span>

<span class="kw">local</span> <span class="kw">function</span> defaultHandler<span class="ot">(</span> <span class="kw">event</span> <span class="ot">)</span>
    fieldHandler<span class="ot">(</span> <span class="kw">function</span><span class="ot">()</span> <span class="kw">return</span> <span class="kw">defaultField</span> <span class="kw">end</span> <span class="ot">)</span> <span class="co">-- passes the text field object</span>
<span class="kw">end</span>
<span class="kw">defaultField</span>:addEventListener<span class="ot">(</span> <span class="st">&quot;userInput&quot;</span>, <span class="kw">defaultHandler</span> <span class="ot">)</span>


<span class="kw">numberField</span> <span class="ot">=</span> <span class="kw">native</span><span class="ot">.</span>newTextField<span class="ot">(</span> <span class="dv">10</span>, <span class="dv">70</span>, <span class="dv">180</span>, <span class="dv">30</span> <span class="ot">)</span>

<span class="kw">local</span> <span class="kw">function</span> numberHandler<span class="ot">(</span> <span class="kw">event</span> <span class="ot">)</span>
    fieldHandler<span class="ot">(</span> <span class="kw">function</span><span class="ot">()</span> <span class="kw">return</span> <span class="kw">numberField</span> <span class="kw">end</span> <span class="ot">)</span>
<span class="kw">end</span>
<span class="kw">numberField</span>:addEventListener<span class="ot">(</span> <span class="st">&quot;userInput&quot;</span>, <span class="kw">numberHandler</span> <span class="ot">)</span></code></pre>
<div id="footer">
<p style="font-size: 13px">
© 2013 Corona Labs Inc. All Rights Reserved. (Last updated: 14-Nov-2013)
</p>

<br />
<p>
<strong>Help us help you! Give us feedback on this page:</strong>
</p>

<ul>
<li>
<a href="https://coronalabs.wufoo.com/forms/z7p9w5/def/field3=api.library.native.newTextField&field4=Current+Public+Release+%282013%2E2076%29" target="_blank">Love it</a>
</li>

<li>
<a href="https://coronalabs.wufoo.com/forms/z7p9m3/def/field103=api.library.native.newTextField&field104=Current+Public+Release+%282013%2E2076%29" target="_blank">Like it, but...</a>
</li>

<li>
<a href="https://coronalabs.wufoo.com/forms/z7p8x1/def/field103=api.library.native.newTextField&field104=Current+Public+Release+%282013%2E2076%29" target="_blank">Hate it</a>
</li>
</ul>
</div>

































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































</div>
</div>

</body>
</html>