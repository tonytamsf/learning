<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Corona Docs: API > Libraries > io > open</title>
  <meta name="revised" content="28-Sep-2013" />
  <meta name="description" content="Whether you're new to Corona or want to take your app to the next level, we've got a wealth of resources for you including extensive documentation, API reference, sample code, and videos.  API > Libraries > io > open" />
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />
<script src="//www.coronalabs.com/wp-content/themes/corona-labs/js/docs.js"></script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='http://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../index.html">SDK APIs</a></li>
<li><a href="../../../native/index.html">Enterprise APIs</a></li>
<li><a href="../../../plugin/index.html">Plugins</a></li>
<li><a href="../../../guide/index.html">Guides</a></li>
<li><a href="http://www.coronalabs.com/resources/tutorials/">Tutorials</a></li>
</ul>


		<div id="resources-link"><a href="http://www.coronalabs.com/resources/">Corona Resources</a> &#9657;</div>
	</div>
</div>

<div class="SearchBar">
  <form action="http://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" name="q" id="q" autocomplete="off" size="40" style="width:150px;float:left" />
  <input type="submit" name="sa" value="Search" style="float:right; font-size: 13px;" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#io.open">io.open()</a><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#syntax">Syntax</a><ul>
<li><a href="#filename_path-required">filename_path <sub><sup>(required)</sup></sub></a></li>
<li><a href="#mode-optional">mode <sub><sup>(optional)</sup></sub></a></li>
</ul></li>
<li><a href="#example">Example</a></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="http://docs.coronalabs.com">Ξ</a>  ▸  <a href="../../index.html">API</a>  ▸  <a href="../index.html">Libraries</a>  ▸  <a href="index.html">io</a>  ▸  <a href="open.html">open</a>
</div>

<div class="section level1" id="io.open">
<h1><a href="#TOC">io.open()</a></h1>
<blockquote>
<table>
<tbody>
<tr class="odd">
<td align="left"><strong>Type</strong></td>
<td align="left"><a href="../../type/Function.html">Function</a></td>
</tr>
<tr class="even">
<td align="left"><strong>Library</strong></td>
<td align="left"><a href="index.html">io.*</a></td>
</tr>
<tr class="odd">
<td align="left"><strong>Return value</strong></td>
<td align="left"><a href="../../type/Object.html">Object</a> (file handle)</td>
</tr>
<tr class="even">
<td align="left"><strong>Revision</strong></td>
<td align="left"><a href="http://coronalabs.com/links/docs/current-corona-sdk">Current Public Release (2013.2076)</a></td>
</tr>
<tr class="odd">
<td align="left"><strong>Keywords</strong></td>
<td align="left">io, open, file, reading, handle, implicit</td>
</tr>
<tr class="even">
<td align="left"><strong>Sample code</strong></td>
<td align="left"><em>/CoronaSDK/SampleCode/Storage/FileDemo</em></td>
</tr>
<tr class="odd">
<td align="left"><strong>See also</strong></td>
<td align="left"><a href="close.html">io.close()</a><br/><a href="read.html">io.read()</a></td>
</tr>
</tbody>
</table>
</blockquote>
<div class="section level2" id="overview">
<h2><a href="#TOC">Overview</a></h2>
<p>This function opens a file for reading or writing, in the string (default) or binary mode. It returns a new file handle, or, in case of errors, <code>nil</code> plus an error message. This function can also be used to create a new file.</p>
<p>Note: For security reasons you are not allowed to <strong>write</strong> files in the <code>system.ResourceDirectory</code> (the directory where the application is stored; your project directory; where main.lua resides). You must specify the <code>system.DocumentsDirectory</code>, <code>system.TemporaryDirectory</code>, or <code>system.CachesDirectory</code> parameter in <a href="../system/pathForFile.html">system.pathForFile()</a> function when opening the file for writing.</p>
<p>This function returns file handle if file found and opened, otherwise returns <code>nil</code>. Also returns string with reason for failure. Returns nil in place of string if file opened.</p>
</div>
<div class="section level2" id="syntax">
<h2><a href="#TOC">Syntax</a></h2>
<pre><code>io.open( filename_path, [, mode] )</code></pre>
<div class="section level5" id="filename_path-required">
<h5><a href="#TOC">filename_path <sub><sup>(required)</sup></sub></a></h5>
<p><em><a href="../../type/String.html">String</a>.</em> File name (with path) to be opened. You must use <a href="../system/pathForFile.html">system.pathForFile()</a> to create a file name and path to the <code>system.ResourceDirectory</code>, <code>system.DocumentsDirectory</code>, <code>system.TemporaryDirectory</code>, or <code>system.CachesDirectory</code> <a href="../../type/Constant.html">Constants</a>. (See <strong>Example</strong> section)</p>
</div>
<div class="section level5" id="mode-optional">
<h5><a href="#TOC">mode <sub><sup>(optional)</sup></sub></a></h5>
<p><em><a href="../../type/String.html">String</a>.</em> Determines which file mode to open the file in. The mode string can be any of the following:</p>
<ul>
<li><p><strong>&quot;r&quot;:</strong> read mode (the default); The file pointer is placed at the beginning of the file.</p></li>
<li><p><strong>&quot;w&quot;:</strong> write-only mode; Overwrites the file if the file exists. If the file does not exist, creates a new file for writing.</p></li>
<li><p><strong>&quot;a&quot;:</strong> append mode (write only); The file pointer is at the end of the file if the file exists. That is, the file is in the append mode. If the file does not exist, it creates a new file for writing.</p></li>
<li><p><strong>&quot;r+&quot;:</strong> update mode (read/write), all previous data is preserved; The file pointer will be at the beginning of the file. If the file exists, it will only be overwritten if you explicitly write to it.</p></li>
<li><p><strong>&quot;w+&quot;:</strong> update mode (read/write), all previous data is erased; Overwrites the existing file if the file exists. If the file does not exist, creates a new file for reading and writing.</p></li>
<li><p><strong>&quot;a+&quot;:</strong> append update mode (read/write); previous data is preserved, writing is only allowed at the end of file. The file pointer is at the end of the file if the file exists. The file opens in the append mode. If the file does not exist, it creates a new file for reading and writing.</p></li>
</ul>
<p>The mode string can also have a 'b' at the end, which is needed in some systems to open the file in binary mode. This string is exactly what is used in the standard C function fopen.</p>
</div>
</div>
<div class="section level2" id="example">
<h2><a href="#TOC">Example</a></h2>
<pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">local</span> <span class="kw">path</span> <span class="ot">=</span> <span class="kw">system</span><span class="ot">.</span>pathForFile<span class="ot">(</span> <span class="st">&quot;data.txt&quot;</span>, <span class="kw">system</span><span class="ot">.</span><span class="kw">DocumentsDirectory</span> <span class="ot">)</span>

<span class="co">-- io.open opens a file at path. returns nil if no file found</span>
<span class="kw">local</span> <span class="kw">fh</span>, <span class="kw">errStr</span> <span class="ot">=</span> <span class="fu">io.open</span><span class="ot">(</span> <span class="kw">path</span>, <span class="st">&quot;r&quot;</span> <span class="ot">)</span>

<span class="kw">if</span> <span class="kw">fh</span> <span class="kw">then</span>
   <span class="co">-- read all contents of file into a string</span>
   <span class="kw">local</span> <span class="kw">contents</span> <span class="ot">=</span> <span class="kw">fh</span>:<span class="fu">read</span><span class="ot">(</span> <span class="st">&quot;*a&quot;</span> <span class="ot">)</span>
   <span class="fu">print</span><span class="ot">(</span> <span class="st">&quot;Contents of &quot;</span> <span class="ot">..</span> <span class="kw">path</span> <span class="ot">..</span> <span class="st">&quot;</span><span class="ot">\n</span><span class="st">&quot;</span> <span class="ot">..</span> <span class="kw">contents</span> <span class="ot">)</span>
<span class="kw">else</span>
   <span class="fu">print</span><span class="ot">(</span> <span class="st">&quot;Reason open failed: &quot;</span> <span class="ot">..</span> <span class="kw">errStr</span> <span class="ot">)</span>  <span class="co">-- display failure message in terminal</span>

   <span class="co">-- create file because it doesn&#39;t exist yet</span>
   <span class="kw">fh</span> <span class="ot">=</span> <span class="fu">io.open</span><span class="ot">(</span> <span class="kw">path</span>, <span class="st">&quot;w&quot;</span> <span class="ot">)</span>

   <span class="kw">if</span> <span class="kw">fh</span> <span class="kw">then</span>
        <span class="fu">print</span><span class="ot">(</span> <span class="st">&quot;Created file&quot;</span> <span class="ot">)</span>
   <span class="kw">else</span>
        <span class="fu">print</span><span class="ot">(</span> <span class="st">&quot;Create file failed!&quot;</span> <span class="ot">)</span>
   <span class="kw">end</span>

   <span class="kw">local</span> <span class="kw">numbers</span> <span class="ot">=</span> <span class="ot">{</span><span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>,<span class="dv">9</span><span class="ot">}</span>
   <span class="kw">fh</span>:<span class="fu">write</span><span class="ot">(</span> <span class="st">&quot;Feed me data!</span><span class="ot">\n</span><span class="st">&quot;</span>, <span class="kw">numbers</span><span class="ot">[</span><span class="dv">1</span><span class="ot">]</span>, <span class="kw">numbers</span><span class="ot">[</span><span class="dv">2</span><span class="ot">]</span>, <span class="st">&quot;</span><span class="ot">\n</span><span class="st">&quot;</span> <span class="ot">)</span>

   <span class="kw">for</span> <span class="kw">_</span>,<span class="kw">v</span> <span class="kw">in</span> <span class="fu">ipairs</span><span class="ot">(</span> <span class="kw">numbers</span> <span class="ot">)</span> <span class="kw">do</span> 
       <span class="kw">fh</span>:<span class="fu">write</span><span class="ot">(</span> <span class="kw">v</span>, <span class="st">&quot; &quot;</span> <span class="ot">)</span>
   <span class="kw">end</span>

   <span class="kw">fh</span>:<span class="fu">write</span><span class="ot">(</span> <span class="st">&quot;</span><span class="ot">\n</span><span class="st">No more data</span><span class="ot">\n</span><span class="st">&quot;</span> <span class="ot">)</span>
<span class="kw">end</span>

<span class="fu">io.close</span><span class="ot">(</span> <span class="kw">fh</span> <span class="ot">)</span></code></pre>
<div id="footer">
<p style="font-size: 13px">
© 2013 Corona Labs Inc. All Rights Reserved. (Last updated: 28-Sep-2013)
</p>

<br />
<p>
<strong>Help us help you! Give us feedback on this page:</strong>
</p>

<ul>
<li>
<a href="https://coronalabs.wufoo.com/forms/z7p9w5/def/field3=api.library.io.open&field4=Current+Public+Release+%282013%2E2076%29" target="_blank">Love it</a>
</li>

<li>
<a href="https://coronalabs.wufoo.com/forms/z7p9m3/def/field103=api.library.io.open&field104=Current+Public+Release+%282013%2E2076%29" target="_blank">Like it, but...</a>
</li>

<li>
<a href="https://coronalabs.wufoo.com/forms/z7p8x1/def/field103=api.library.io.open&field104=Current+Public+Release+%282013%2E2076%29" target="_blank">Hate it</a>
</li>
</ul>
</div>

































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































</div>
</div>

</body>
</html>