<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>Corona Docs: API > Libraries > ads > init</title>
  <meta name="revised" content="04-Sep-2013" />
  <meta name="description" content="Whether you're new to Corona or want to take your app to the next level, we've got a wealth of resources for you including extensive documentation, API reference, sample code, and videos.  API > Libraries > ads > init" />
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />
<script src="//www.coronalabs.com/wp-content/themes/corona-labs/js/docs.js"></script>
</head>
<body>
<div class="header"></div>
<div class="title">
	<span class="titleimg" onclick="window.location='http://docs.coronalabs.com/'"></span>
	<div id="nav">
		<ul>
<li><a href="../../index.html">SDK APIs</a></li>
<li><a href="../../../native/index.html">Enterprise APIs</a></li>
<li><a href="../../../plugin/index.html">Plugins</a></li>
<li><a href="../../../guide/index.html">Guides</a></li>
<li><a href="http://www.coronalabs.com/resources/tutorials/">Tutorials</a></li>
</ul>


		<div id="resources-link"><a href="http://www.coronalabs.com/resources/">Corona Resources</a> &#9657;</div>
	</div>
</div>

<div class="SearchBar">
  <form action="http://www.google.com/cse" id="cse-search-box">
  <input type="hidden" name="cx" value="009283852522218786394:g40gqt2m6rq" />
  <input type="hidden" name="ie" value="UTF-8" />
  <input type="text" name="q" id="q" autocomplete="off" size="40" style="width:150px;float:left" />
  <input type="submit" name="sa" value="Search" style="float:right; font-size: 13px;" />
  </form>
</div>
<div id="TOC">
<ul>
<li><a href="#ads.init">ads.init()</a><ul>
<li><a href="#overview">Overview</a><ul>
<li><a href="#analytics">Analytics</a></li>
<li><a href="#android">Android</a></li>
</ul></li>
<li><a href="#syntax">Syntax</a><ul>
<li><a href="#init-required">init <sub><sup>(required)</sup></sub></a></li>
<li><a href="#appid-required">appId <sub><sup>(required)</sup></sub></a></li>
<li><a href="#listener-optional">listener <sub><sup>(optional)</sup></sub></a></li>
</ul></li>
<li><a href="#examples">Examples</a><ul>
<li><a href="#iads">iAds</a></li>
<li><a href="#inmobi">InMobi</a></li>
<li><a href="#inneractive">inneractive</a></li>
<li><a href="#admob">AdMob</a></li>
</ul></li>
</ul></li>
</ul>
</div>
<div id="breadcrumb">
<a href="http://docs.coronalabs.com">Ξ</a>  ▸  <a href="../../index.html">API</a>  ▸  <a href="../index.html">Libraries</a>  ▸  <a href="index.html">ads</a>  ▸  <a href="init.html">init</a>
</div>
<div class="section level1" id="ads.init">
<h1><a href="#TOC">ads.init()</a></h1>
<blockquote>
<table>
<tbody>
<tr class="odd">
<td align="left"><strong>Type</strong></td>
<td align="left"><a href="../../type/Function.html">Function</a></td>
</tr>
<tr class="even">
<td align="left"><strong>Library</strong></td>
<td align="left"><a href="index.html">ads.*</a></td>
</tr>
<tr class="odd">
<td align="left"><strong>Return value</strong></td>
<td align="left">None</td>
</tr>
<tr class="even">
<td align="left"><strong>Revision</strong></td>
<td align="left"><a href="http://coronalabs.com/links/docs/current-corona-sdk">Current Public Release (2013.2076)</a></td>
</tr>
<tr class="odd">
<td align="left"><strong>Keywords</strong></td>
<td align="left">ads, advertising</td>
</tr>
<tr class="even">
<td align="left"><strong>Sample code</strong></td>
<td align="left"><em>/CoronaSDK/SampleCode/Ads/InMobi</em></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left"><em>/CoronaSDK/SampleCode/Ads/inneractive</em></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left"><em>/CoronaSDK/SampleCode/Ads/iAds</em></td>
</tr>
<tr class="odd">
<td align="left"><strong>See also</strong></td>
<td align="left"><a href="show.html">ads.show()</a></td>
</tr>
</tbody>
</table>
</blockquote>
<div class="section level2" id="overview">
<h2><a href="#TOC">Overview</a></h2>
<p><code>ads.init()</code> initializes the Corona <code>ads</code> library by specifying the name of the ad network service provider and the application identifier. For more information, please refer to the <a href="../../../guide/monetization/adSupport/index.html">Implementing Ads</a> guide.</p>
<div class="section level4" id="analytics">
<h4><a href="#TOC">Analytics</a></h4>
<p>Due to partnership requirements, Corona Analytics will remain active if you <code>require ( &quot;ads&quot; )</code> in your code, overriding any corresponding setting in <code>config.lua</code>.</p>
</div>
<div class="section level4" id="android">
<h4><a href="#TOC">Android</a></h4>
<p>You must add the following permissions to the <code>build.settings</code> file to use ads on Android.</p>
<p>Note: Android does not support iAds.</p>
<pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">settings</span> <span class="ot">=</span>
<span class="ot">{</span>
   <span class="kw">android</span> <span class="ot">=</span>
   <span class="ot">{</span>
      <span class="kw">usesPermissions</span> <span class="ot">=</span>
      <span class="ot">{</span>
         <span class="st">&quot;android.permission.INTERNET&quot;</span>,
         <span class="st">&quot;android.permission.ACCESS_NETWORK_STATE&quot;</span>,
         <span class="st">&quot;android.permission.READ_PHONE_STATE&quot;</span>,
      <span class="ot">}</span>,
   <span class="ot">}</span>,
<span class="ot">}</span></code></pre>
</div>
</div>
<div class="section level2" id="syntax">
<h2><a href="#TOC">Syntax</a></h2>
<pre><code>ads.init( providerName, appId [, listener] )</code></pre>
<div class="section level5" id="init-required">
<h5><a href="#TOC">init <sub><sup>(required)</sup></sub></a></h5>
<p><em><a href="../../type/String.html">String</a>.</em> String containing the provider's name.</p>
</div>
<div class="section level5" id="appid-required">
<h5><a href="#TOC">appId <sub><sup>(required)</sup></sub></a></h5>
<p><em><a href="../../type/String.html">String</a>.</em> String containing the app ID (from xyz site), the iTunes bundle ID (com.company.myapplication) for iAds.</p>
</div>
<div class="section level5" id="listener-optional">
<h5><a href="#TOC">listener <sub><sup>(optional)</sup></sub></a></h5>
<p><em><a href="../../type/Listener.html">Listener</a>.</em> Function that will receive an event indicating if showing an ad has succeeded or failed. This will be called for every new ad that is requested, according to the interval given to the <a href="show.html">ads.show()</a> function. Provides a property <code>event.isError</code> which will be <code>true</code> if the system failed to retrieve an ad. This can occur if the ad network is unreachable or is out of inventory/ads, in which case nothing is shown on screen. <code>event.isError</code> will be <code>false</code> if an ad was successfully retrieved and displayed on screen. For iAds, the property <code>event.response</code> is also provided, which will contain the status message or error message returned by the ads provider.</p>
<p>Note: The listener is not currently supported for inneractive on the iOS platform.</p>
</div>
</div>
<div class="section level2" id="examples">
<h2><a href="#TOC">Examples</a></h2>
<div class="section level3" id="iads">
<h3><a href="#TOC">iAds</a></h3>
<pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">local</span> <span class="kw">ads</span> <span class="ot">=</span> <span class="fu">require</span> <span class="st">&quot;ads&quot;</span>

<span class="kw">local</span> <span class="kw">function</span> adListener<span class="ot">(</span> <span class="kw">event</span> <span class="ot">)</span>
<span class="kw">local</span> <span class="kw">msg</span> <span class="ot">=</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">response</span>
    <span class="kw">if</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">isError</span> <span class="kw">then</span>
        <span class="co">-- Failed to receive an ad, we print the error message returned from the library.</span>
        <span class="fu">print</span><span class="ot">(</span><span class="kw">msg</span><span class="ot">)</span>
    <span class="kw">end</span>
<span class="kw">end</span>

<span class="kw">ads</span><span class="ot">.</span>init<span class="ot">(</span> <span class="st">&quot;iads&quot;</span>, <span class="st">&quot;myAppId&quot;</span>, <span class="kw">adListener</span> <span class="ot">)</span>
<span class="kw">ads</span><span class="ot">.</span>show<span class="ot">(</span> <span class="st">&quot;banner&quot;</span>, <span class="ot">{</span> <span class="kw">x</span><span class="ot">=</span><span class="dv">0</span>, <span class="kw">y</span><span class="ot">=</span><span class="dv">0</span> <span class="ot">}</span> <span class="ot">)</span></code></pre>
</div>
<div class="section level3" id="inmobi">
<h3><a href="#TOC">InMobi</a></h3>
<pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">local</span> <span class="kw">ads</span> <span class="ot">=</span> <span class="fu">require</span> <span class="st">&quot;ads&quot;</span>

<span class="kw">local</span> <span class="kw">function</span> adListener<span class="ot">(</span> <span class="kw">event</span> <span class="ot">)</span>
    <span class="kw">if</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">isError</span> <span class="kw">then</span>
        <span class="co">-- Failed to receive an ad.</span>
    <span class="kw">end</span>
<span class="kw">end</span>

<span class="kw">ads</span><span class="ot">.</span>init<span class="ot">(</span> <span class="st">&quot;inmobi&quot;</span>, <span class="st">&quot;myAppId&quot;</span>, <span class="kw">adListener</span> <span class="ot">)</span>
<span class="kw">ads</span><span class="ot">.</span>show<span class="ot">(</span> <span class="st">&quot;banner320x48&quot;</span>, <span class="ot">{</span> <span class="kw">x</span><span class="ot">=</span><span class="dv">0</span>, <span class="kw">y</span><span class="ot">=</span><span class="dv">100</span>, <span class="kw">interval</span><span class="ot">=</span><span class="dv">60</span>, <span class="kw">testMode</span><span class="ot">=</span><span class="kw">false</span> <span class="ot">}</span> <span class="ot">)</span></code></pre>
</div>
<div class="section level3" id="inneractive">
<h3><a href="#TOC">inneractive</a></h3>
<pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">local</span> <span class="kw">ads</span> <span class="ot">=</span> <span class="fu">require</span> <span class="st">&quot;ads&quot;</span>

<span class="kw">local</span> <span class="kw">function</span> adListener<span class="ot">(</span> <span class="kw">event</span> <span class="ot">)</span>
    <span class="kw">if</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">isError</span> <span class="kw">then</span>
        <span class="co">-- Failed to receive an ad.</span>
    <span class="kw">end</span>
<span class="kw">end</span>

<span class="kw">ads</span><span class="ot">.</span>init<span class="ot">(</span> <span class="st">&quot;inneractive&quot;</span>, <span class="st">&quot;myAppId&quot;</span>, <span class="kw">adListener</span> <span class="ot">)</span> <span class="co">-- listener not support on iOS</span>
<span class="kw">ads</span><span class="ot">.</span>show<span class="ot">(</span> <span class="st">&quot;banner&quot;</span>, <span class="ot">{</span> <span class="kw">x</span><span class="ot">=</span><span class="dv">0</span>, <span class="kw">y</span><span class="ot">=</span><span class="dv">0</span>, <span class="kw">interval</span><span class="ot">=</span><span class="dv">60</span> <span class="ot">}</span> <span class="ot">)</span></code></pre>
</div>
<div class="section level3" id="admob">
<h3><a href="#TOC">AdMob</a></h3>
<pre class="sourceCode lua"><code class="sourceCode lua"><span class="kw">local</span> <span class="kw">ads</span> <span class="ot">=</span> <span class="fu">require</span> <span class="st">&quot;ads&quot;</span>

<span class="kw">local</span> <span class="kw">function</span> adListener<span class="ot">(</span> <span class="kw">event</span> <span class="ot">)</span>
    <span class="kw">if</span> <span class="kw">event</span><span class="ot">.</span><span class="kw">isError</span> <span class="kw">then</span>
        <span class="co">-- Failed to receive an ad.</span>
    <span class="kw">end</span>
<span class="kw">end</span>

<span class="kw">ads</span><span class="ot">.</span>init<span class="ot">(</span> <span class="st">&quot;admob&quot;</span>, <span class="st">&quot;myAppId&quot;</span>, <span class="kw">adListener</span> <span class="ot">)</span>
<span class="kw">ads</span><span class="ot">.</span>show<span class="ot">(</span> <span class="st">&quot;banner&quot;</span>, <span class="ot">{</span> <span class="kw">x</span><span class="ot">=</span><span class="dv">0</span>, <span class="kw">y</span><span class="ot">=</span><span class="dv">0</span> <span class="ot">}</span> <span class="ot">)</span></code></pre>
<div id="footer">
<p style="font-size: 13px">
© 2013 Corona Labs Inc. All Rights Reserved. (Last updated: 04-Sep-2013)
</p>

<br />
<p>
<strong>Help us help you! Give us feedback on this page:</strong>
</p>

<ul>
<li>
<a href="https://coronalabs.wufoo.com/forms/z7p9w5/def/field3=api.library.ads.init&field4=Current+Public+Release+%282013%2E2076%29" target="_blank">Love it</a>
</li>

<li>
<a href="https://coronalabs.wufoo.com/forms/z7p9m3/def/field103=api.library.ads.init&field104=Current+Public+Release+%282013%2E2076%29" target="_blank">Like it, but...</a>
</li>

<li>
<a href="https://coronalabs.wufoo.com/forms/z7p8x1/def/field103=api.library.ads.init&field104=Current+Public+Release+%282013%2E2076%29" target="_blank">Hate it</a>
</li>
</ul>
</div>

































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































</div>
</div>
</div>

</body>
</html>